<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°–ø–∏—Å–æ–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f0f5;
      color: #333;
      padding: 30px;
      max-width: 700px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #673ab7;
      margin-bottom: 25px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
    }
    input[type="text"], select {
      flex: 1 1 200px;
      padding: 10px 15px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #673ab7;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      min-width: 130px;
    }
    button:hover {
      background-color: #512da8;
    }
    ul {
      list-style: none;
      padding: 0;
      max-height: 600px;
      overflow-y: auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    li {
      padding: 12px 20px;
      border-bottom: 1px solid #eee;
      transition: background-color 0.2s;
      position: relative;
    }
    li:hover {
      background-color: #f5f0ff;
    }
    li.yaoi {
      background-color: #ffe4f2;
      color: #a6005c;
    }
    .tag {
      font-size: 13px;
      color: #d63384;
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      font-weight: 600;
    }
    #addForm {
      display: none;
      background: white;
      padding: 20px 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      margin-bottom: 25px;
    }
    #addForm input[type="text"] {
      width: 100%;
      padding: 10px 15px;
      margin-bottom: 15px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    #addForm label {
      font-weight: 600;
      margin-right: 10px;
      user-select: none;
    }
    #addForm button {
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <h1>–°–ø–∏—Å–æ–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ</h1>

  <div class="controls">
    <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." />
    <select id="genreFilter">
      <option value="all">–í—Å–µ</option>
      <option value="yaoi">–¢–æ–ª—å–∫–æ –Ø–æ–π üíó</option>
      <option value="noyaoi">–ë–µ–∑ –Ø–æ—è</option>
    </select>
    <button id="showAddFormBtn">–î–æ–±–∞–≤–∏—Ç—å –º–∞–Ω–≥—É</button>
  </div>

  <form id="addForm">
    <input type="text" id="newTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–Ω–≥–∏" required />
    <label><input type="checkbox" id="newYaoi" /> –Ø–æ–π</label>
    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
    <button type="button" id="cancelAdd">–û—Ç–º–µ–Ω–∞</button>
  </form>

  <ul id="list"></ul>

<script>
  // –í–æ—Ç —Ç–≤–æ–π —Å–ø–∏—Å–æ–∫, —è –≤—ã–¥–µ–ª–∏–ª –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —è–≤–Ω–æ –Ø–æ–π (—Å–¥–µ–ª–∞–π —Å–≤–æ–∏ –ø—Ä–∞–≤–∫–∏ –ø–æ –∂–µ–ª–∞–Ω–∏—é)
  const initialManga = [
    {title: "–¢–∏–≥—Ä –≤ –µ–≥–æ –≥–ª–∞–∑–∞—Ö", yaoi:true},
    {title: "–ü–ª–∞—Ü–µ–±–æ", yaoi:true},
    {title: "–ù–æ—á–Ω—ã–µ —ç—Ç—é–¥—ã", yaoi:false},
    {title: "–ú–æ–∫—Ä—ã–π –ø–µ—Å–æ–∫", yaoi:false},
    {title: "–°—Ç—Ä–∞—Å—Ç–Ω–æ–µ –≤–ª–µ—á–µ–Ω–∏–µ", yaoi:true},
    {title: "–û—Ç–¥–∞—é—â–∏–π –≤—Å–µ –º—É–∂—á–∏–Ω–∞", yaoi:true},
    {title: "–Ø–∑—ã–∫ –∂–µ—Å—Ç–æ–≤", yaoi:false},
    {title: "–í—Å–ø—ã—à–∫–∞", yaoi:false},
    {title: "–°–µ–∫—Ä–µ—Ç –≤ –º–æ–µ–π –≥–æ–ª–æ–≤–µ", yaoi:false},
    {title: "–§–∞–ª—å—Å—Ç–∞—Ä—Ç", yaoi:false},
    {title: "–í–æ–∑–º–µ–∑–¥–∏–µ", yaoi:false},
    {title: "–ú–µ–¥–æ–≤—ã–π —Å–∫–∞–Ω–¥–∞–ª", yaoi:false},
    {title: "–ü—Ä—è–º–∞—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è", yaoi:false},
    {title: "–¶–∞—Ä—Å—Ç–≤–æ —Ç–µ–Ω–µ–π", yaoi:false},
    {title: "–ú–µ–Ω—å—à–µ —á–µ–º –Ω–µ–∑–Ω–∞–∫–æ–º—Ü—ã", yaoi:false},
    {title: "–õ—é–±–æ–≤—å –ø—Ä–æ—Å—Ç–æ –∏–ª–ª—é–∑–∏—è", yaoi:false},
    {title: "–ú–µ–∂–¥—É —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å—é –∏ –Ω–µ–∏–∑–±–µ–∂–Ω–æ—Å—Ç—å—é", yaoi:false},
    {title: "–ö–æ—à–º–∞—Ä–Ω–∞—è –Ω–æ—á—å", yaoi:false},
    {title: "–°–∏–Ω–¥—Ä–æ–º –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è", yaoi:false},
    {title: "–î–æ–º –≤–æ—Å—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–ª–Ω—Ü–∞", yaoi:false},
    {title: "–ü—Ä–µ–ª–µ—Å—Ç–∏ —Å–∞–¥–∏–∑–º–∞", yaoi:false},
    {title: "–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å", yaoi:false},
    {title: "–ß–ª–µ–Ω –≥–∏–ª—å–¥–∏–∏ –ø–æ —Å–æ—Å–µ–¥—Å—Ç–≤—É", yaoi:false},
    {title: "–≠—Ç–æ –∂–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–Ω", yaoi:false},
    {title: "–ü—Ä–æ–µ–∫—Ç –±–æ—Ç–∞–Ω–∏–∫", yaoi:false},
    {title: "–ù–∞ –≥—Ä–∞–Ω–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏", yaoi:false},
    {title: "–û—Ç 1 –¥–æ 10", yaoi:false},
    {title: "–¶–≤–µ—Ç–æ–∫ –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫ –∏ –Ω–µ —Ä–∞—Å—Ü–≤–µ–ª", yaoi:false},
    {title: "–ú–æ–π –æ—á–∞—Ä–æ–≤–∞—à–∫–∞", yaoi:false},
    {title: "–ë–µ–∑–¥–Ω–∞", yaoi:false},
    {title: "–ù–æ—á–Ω–∞—è –ø–µ—Å–Ω—å –¥–µ–º–æ–Ω–∞", yaoi:false},
    {title: "–î–æ—Ä–æ–≥–æ–π –ø–ª—é—à–µ–≤—ã–π –º–∏—à–∫–∞", yaoi:false},
    {title: "–ù–æ—á—å –º—É—Ö—ã–Ω–∞", yaoi:false},
    {title: "–¢—Ä–∞–≤–º–∞ –∞–ª—å—Ñ—ã", yaoi:false},
    {title: "–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤", yaoi:false},
    {title: "–ü–æ–¥ –∑–µ–ª—ë–Ω—ã–º —Å–≤–µ—Ç–æ–º", yaoi:false},
    {title: "–°–ø–∞—Å–∏—Ç–µ–ª—å –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞", yaoi:false},
    {title: "–ù–µ–≤–æ–ª—å–Ω—ã–π —Ä–æ–º–∞–Ω", yaoi:false},
    {title: "–õ–∂–∏–≤—ã–π —â–µ–Ω–æ–∫ –±—É–¥–µ—Ç —Å—å–µ–¥–µ–Ω", yaoi:false},
    {title: "–≠—Å–∫–∏–∑", yaoi:false},
    {title: "–õ–æ–≥–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞", yaoi:false},
    {title: "–ù–∞–º –Ω–µ–ª—å–∑—è", yaoi:false},
    {title: "–ü—Ä–æ–ª–∏—Ç–∞—è –∫—Ä–æ–≤—å", yaoi:false},
    {title: "–ë–µ—Ä—é–∑–æ–≤–∞—è –ø–µ—Å–Ω—å –ª—é–±–≤–∏", yaoi:false},
    {title: "–°–Ω–æ–≤–∞ —Å—Ç–∞—Ä—à–µ–∫–ª–∞—Å—Å–Ω–∏–∫", yaoi:false},
    {title: "–í–∏—à–Ω—è —Ü–≤–µ—Ç—ë—Ç –ø–æ—Å–ª–µ –∑–∏–º—ã", yaoi:false},
    {title: "–í—Ä–∞—Ç–∞ –∞–¥–∞", yaoi:false},
    {title: "–î–æ—Å—Ç–∞–≤—â–∏–∫ –ø–∏—Ü—Ü—ã –∏ –∑–æ–ª–æ—Ç–æ–π –¥–≤–æ—Ä–µ—Ü", yaoi:false},
    {title: "–î–µ—Ä–∑–∞–π", yaoi:false},
    {title: "–ù–æ—á—å —É –±–µ—Ä–µ–≥–∞", yaoi:false},
    {title: "–î–∂–∏–Ω–∫—Å", yaoi:false},
    {title: "–ë–∂ –∞–ª–µ–∫—Å", yaoi:false},
    {title: "–®–∞–º–ø–∞–Ω—Å–∫–æ–µ –∏ —Ä–æ–∑—ã", yaoi:false},
    {title: "–ö–æ–¥–æ–≤–æ–µ –∏–º—è –∞–Ω–∞—Å—Ç–∞—Å–∏—è", yaoi:false},
    {title: "–ó–≤—É–∫ —Ü–≤–µ—Ç—É—â–µ–≥–æ –∫–æ—Ä–∞–ª–ª–∞", yaoi:false},
    {title: "19 –¥–Ω–µ–π –æ–¥–Ω–∞–∂–¥—ã", yaoi:true},
    {title: "–¢—ë–º–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ", yaoi:false},
    {title: "–î–µ–º–æ–Ω", yaoi:false},
    {title: "–õ—é–±–æ–≤–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ", yaoi:false},
    {title: "–ñ–µ–º—á—É–∂–Ω—ã–π –º–∞–ª—å—á–∏–∫", yaoi:true},
    {title: "–≠–Ω–µ—Ä–≥–∏—è —è–Ω", yaoi:false},
    {title: "–ù–µ —Ç—Ä–æ–≥–∞–π –ø–µ—Å–∏–∫–∞", yaoi:false},
    {title: "–°—Ç—ã–∫–∏", yaoi:false},
    {title: "–û—Ç–±—Ä–æ—Å", yaoi:false},
    {title: "–û–±–ª–∞–∫–æ", yaoi:false},
    {title: "–°–º–∏—Ä–Ω–∞ –∏ –∫–∞–ø—Ä–∏", yaoi:false},
    {title: "–°—É–± –¥–∏–∞–ª", yaoi:false},
    {title: "–ü–æ–º–æ–≥–∏ –º–Ω–µ —É—á–∏—Ç–µ–ª—å", yaoi:false},
    {title: "–ü—Ä–æ–µ–∫—Ü–∏—è", yaoi:false},
    {title: "–¶–≤–µ—Ç–æ–∫ –Ω–∞ –ª–µ–∑–≤–∏–∏ –∫–ª–∏–Ω–∫–∞", yaoi:false},
    {title: "–°–ª—ã—à–Ω–æ –¥–∞–∂–µ –±–µ–∑ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞", yaoi:false},
    {title: "–ü–∞—Ä—Ç–Ω—ë—Ä –Ω–∞ –ø–æ–ª—Å—Ç–∞–≤–∫–∏", yaoi:false},
    {title: "–ü–æ—á—É–≤—Å—Ç–≤—É–π –º–æ—ë –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ", yaoi:false},
    {title: "–ú–µ—á –∏ —Ü–≤–µ—Ç–æ–∫", yaoi:false},
    {title: "–°–≤—è–∑—å, —Ç–∞—è—â–∞—è –æ–ø–∞—Å–Ω–æ—Å—Ç—å", yaoi:false},
    {title: "–ü–æ—Ä–æ–∫ —Ä–∏—Å–∫–∏", yaoi:false},
    {title: "–¢–µ–Ω—å –≤–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è", yaoi:false},
    {title: "–ö–æ–≥–¥–∞ —É–±–∏–π—Ü–∞ –≤–ª—é–±–ª—è–µ—Ç—Å—è", yaoi:false},
    {title: "–ò—Ç–æ–≥", yaoi:false},
    {title: "–†–∞–±–æ—Ç–∞ –ø–æ–¥ –ø—Ä–∏–∫—Ä—ã—Ç–∏–µ–º", yaoi:false},
    {title: "OFF TRACK", yaoi:false},
    {title: "–¢—Ä–µ–≤–æ–∂–Ω—ã–π –∑–∞–ª –ª—é–±–≤–∏", yaoi:false},
    {title: "–ë–∞–≥—Ä–æ–≤—ã–π –æ–∫–µ–∞–Ω", yaoi:false},
    {title: "–õ–∏–≤–µ—Ç–∞", yaoi:false},
    {title: "–¢–≤–æ–π —Å–æ–Ω –Ω—É —É–∂ –æ—á–µ–Ω—å –≤–∫—É—Å–Ω—ã–π", yaoi:false},
    {title: "–î–µ–∫–∞–±—Ä—å", yaoi:false},
    {title: "–ü—Ä–∏–∑—Ä–∞—á–Ω–æ–µ –∫–æ–ø—å–µ", yaoi:false},
    {title: "10 –ª–µ—Ç –º–æ–µ–π –ª—é–±–≤–∏ –∫ —Ç–µ–±–µ", yaoi:false},
    {title: "–ö–æ–º–ø–ª–µ–∫—Å –æ–º–µ–≥–∏", yaoi:false},
    {title: "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è –ª—é–±–æ–≤—å", yaoi:false},
    {title: "–ë–µ–∑—É–º–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è", yaoi:false},
    {title: "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ", yaoi:false},
    {title: "–†—ã—Ü–∞—Ä—å", yaoi:false},
    {title: "–í–ª–∞—Å—Ç–µ–ª–∏–Ω –≤–∞–º–ø–∏—Ä–æ–≤", yaoi:false},
    {title: "–Ø–æ–π(–º–∞–ª—å—á–∏–∫ –Ω–∞ –º–∞–ª—å—á–∏–∫–µ) –ø—Ä–æ—Å—Ç–æ –≤–æ—Ç —Ç–∞–∫", yaoi:true},
  ];

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
  let mangaList = JSON.parse(localStorage.getItem('mangaList')) || initialManga;

  const listElem = document.getElementById('list');
  const searchInput = document.getElementById('search');
  const genreFilter = document.getElementById('genreFilter');
  const showAddFormBtn = document.getElementById('showAddFormBtn');
  const addForm = document.getElementById('addForm');
  const newTitleInput = document.getElementById('newTitle');
  const newYaoiCheckbox = document.getElementById('newYaoi');
  const cancelAddBtn = document.getElementById('cancelAdd');

  function saveList() {
    localStorage.setItem('mangaList', JSON.stringify(mangaList));
  }

  function renderList() {
    const search = searchInput.value.trim().toLowerCase();
    const filter = genreFilter.value;

    listElem.innerHTML = '';

    const filtered = mangaList.filter(item => {
      const matchesSearch = item.title.toLowerCase().includes(search);
      const matchesFilter =
        filter === 'all' ||
        (filter === 'yaoi' && item.yaoi) ||
        (filter === 'noyaoi' && !item.yaoi);
      return matchesSearch && matchesFilter;
    });

    if (filtered.length === 0) {
      listElem.innerHTML = '<li>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</li>';
      return;
    }

    filtered.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item.title;
      if (item.yaoi) {
        li.classList.add('yaoi');
        const tag = document.createElement('span');
        tag.textContent = '–Ø–æ–π üíó';
        tag.className = 'tag';
        li.appendChild(tag);
      }
      listElem.appendChild(li);
    });
  }

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
  searchInput.addEventListener('input', renderList);
  genreFilter.addEventListener('change', renderList);

  showAddFormBtn.addEventListener('click', () => {
    addForm.style.display = 'block';
    newTitleInput.focus();
  });

  cancelAddBtn.addEventListener('click', () => {
    addForm.style.display = 'none';
    newTitleInput.value = '';
    newYaoiCheckbox.checked = false;
  });

  addForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const title = newTitleInput.value.trim();
    if (title.length === 0) return alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–Ω–≥–∏');

    mangaList.push({title, yaoi: newYaoiCheckbox.checked});
    saveList();
    renderList();

    // –û—á–∏—Å—Ç–∫–∞ –∏ —Å–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã
    newTitleInput.value = '';
    newYaoiCheckbox.checked = false;
    addForm.style.display = 'none';
  });

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  renderList();
</script>
</body>
</html>
